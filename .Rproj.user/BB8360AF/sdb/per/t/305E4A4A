{
    "collab_server" : "",
    "contents" : "## Reginald Edwards\n## CREATED: 1 March 2018\n## MODIFIED:\n## DESCRIPTION: Compute the probability that a higher seeded team beats a lower\n## seeded opopnent from historical data. This is exploratory in nature.\n###############################################################################\n\nrm(list=ls())\n\n## load training data\nload('data/working/training.RData')\n\nupsets.by.season <- aggregate(upset ~ season, data = X.train, FUN = mean)\nnames(upsets.by.season) <- c('season', 'pct.upsets')\n\nx <- aggregate(upset ~ season, data = X.train, FUN = sum)\nnames(x) <- c('season', 'n.upsets')\nupsets.by.season <- merge(upsets.by.season, x)\n\navg.upsets <- mean(X.train$upset)\navg.n.upsets <- mean(upsets.by.season$n.upsets)\n\nbarplot(upsets.by.season$n.upsets)\nabline(h = avg.n.upsets)\n\nlow.seed.win.prob <- 0.7014602\n\n## Validate model with seed-win probability in-sample (i.e. on 1985-2013 data)\nX.train$pred <- .5\nlog.loss(X.train$y, X.train$pred)\n\nX.train$pred <- ifelse(X.train$seed1 < X.train$seed2, low.seed.win.prob, \n                       1-low.seed.win.prob)\nlog.loss(X.train$y, X.train$pred)\n\n###############################################################################\n## Test model with seed-win probability on [2014-2017] data\n## load test data\nload('data/working/testing.RData')\n\nX.test$pred <- ifelse(X.test$seed1 < X.test$seed2, low.seed.win.prob, \n  1-low.seed.win.prob)\nwrite.csv(X.test[,c('id', 'pred')], file = \"data/working/seed_win_predictions.csv\")\n\nsource('code/log-loss-evaluation.R')\nlogloss.evaluate(\"data/working/seed_win_predictions.csv\")\n",
    "created" : 1519946495732.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1670493634",
    "id" : "305E4A4A",
    "lastKnownWriteTime" : 1519935270,
    "last_content_update" : 1519935270,
    "path" : "C:/Users/Reginald/Dropbox/Kaggle - NCAA ML 2018/code/seed-win-probability.R",
    "project_path" : "code/seed-win-probability.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 7,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}